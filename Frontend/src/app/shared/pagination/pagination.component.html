<nav>
  <ul class="pagination text-center">
    <li
      class="page-item"
      [ngClass]="{ disabled: currentPage === 1 }"
      (click)="changePage(currentPage - 1)"
    >
      <a class="page-link">
        <fa-icon [icon]="leftIcon"></fa-icon>
        <span class="sr-only">Previous</span>
      </a>
    </li>
    <!-- Pages and ellipses -->
    <ng-container *ngIf="currentPage <= 3">
      <li class="page-item" [ngClass]="{ active: currentPage === 1 }">
        <a class="page-link" (click)="changePage(1)">1</a>
      </li>
      <li
        class="page-item"
        [ngClass]="{ active: currentPage === 2 }"
        *ngIf="maxPage >= 2"
      >
        <a class="page-link" (click)="changePage(2)">2</a>
      </li>
      <li
        class="page-item"
        [ngClass]="{ active: currentPage === 3 }"
        *ngIf="maxPage >= 3"
      >
        <a class="page-link" (click)="changePage(3)">3</a>
      </li>
      <li class="page-item ellipsis" *ngIf="maxPage >= 4"></li>
      <li class="page-item" (click)="changePage(maxPage)" *ngIf="maxPage >= 4">
        <a class="page-link">{{ maxPage }}</a>
      </li>
    </ng-container>

    <ng-container
      *ngIf="currentPage > 3 && currentPage <= maxPage - 3 && maxPage >= 4"
    >
      <li class="page-item" (click)="changePage(1)">
        <a class="page-link">1</a>
      </li>
      <li class="page-item ellipsis"></li>
      <li class="page-item" (click)="changePage(currentPage - 1)">
        <a class="page-link">{{ currentPage - 1 }}</a>
      </li>
      <li class="page-item active" (click)="changePage(currentPage)">
        <a class="page-link">{{ currentPage }}</a>
      </li>
      <li class="page-item" (click)="changePage(currentPage + 1)">
        <a class="page-link">{{ currentPage + 1 }}</a>
      </li>
      <li class="page-item ellipsis"></li>
      <li class="page-item" (click)="changePage(maxPage)">
        <a class="page-link">{{ maxPage }}</a>
      </li>
    </ng-container>

    <ng-container *ngIf="currentPage > maxPage - 3 && currentPage >= 4">
      <li class="page-item" (click)="changePage(1)">
        <a class="page-link">1</a>
      </li>
      <li class="page-item ellipsis"></li>
      <li
        class="page-item"
        (click)="changePage(maxPage - 2)"
        [ngClass]="{ active: currentPage === maxPage - 2 }"
      >
        <a class="page-link">{{ maxPage - 2 }}</a>
      </li>
      <li
        class="page-item"
        (click)="changePage(maxPage - 1)"
        [ngClass]="{ active: currentPage === maxPage - 1 }"
      >
        <a class="page-link">{{ maxPage - 1 }}</a>
      </li>
      <li
        class="page-item"
        (click)="changePage(maxPage)"
        [ngClass]="{ active: currentPage === maxPage }"
      >
        <a class="page-link">{{ maxPage }}</a>
      </li>
    </ng-container>
    <li
      class="page-item"
      [ngClass]="{ disabled: currentPage === maxPage }"
      (click)="changePage(currentPage + 1)"
    >
      <a class="page-link">
        <fa-icon [icon]="rightIcon"></fa-icon>
        <span class="sr-only">Next</span>
      </a>
    </li>
  </ul>
</nav>
